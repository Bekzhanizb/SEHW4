<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::body})}">
<body>
<div class="card p-4">
    <h2 class="mb-4 text-center">📋 All Application Requests</h2>

    <table class="table table-hover align-middle">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>User</th>
            <th>Course</th>
            <th>Phone</th>
            <th>Status</th>
            <th class="text-end">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="req : ${requests}">
            <td th:text="${req.id}"></td>
            <td th:text="${req.userName}"></td>
            <td th:text="${req.courseName}"></td>
            <td th:text="${req.phone}"></td>
            <td>
                <span th:text="${req.handled} ? '✅ Handled' : '⏳ Pending'"
                      th:classappend="${req.handled} ? 'text-success' : 'text-warning'"></span>
            </td>
            <td class="text-end">
                <a th:href="@{'/' + ${req.id}}" class="btn btn-sm btn-outline-primary">View</a>
                <form th:action="@{'/' + ${req.id} + '/delete'}" method="post" style="display:inline;">
                    <button class="btn btn-sm btn-outline-danger" type="submit">Delete</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
