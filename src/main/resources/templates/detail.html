<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: content}">
<div class="card p-4">
    <h2 th:text="'Request #' + ${request.id}"></h2>
    <p><b>User:</b> <span th:text="${request.userName}"></span></p>
    <p><b>Course:</b> <span th:text="${request.courseName}"></span></p>
    <p><b>Phone:</b> <span th:text="${request.phone}"></span></p>
    <p><b>Comment:</b> <span th:text="${request.commentary}"></span></p>
    <p>
        <b>Status:</b>
        <span th:text="${request.handled} ? '✅ Handled' : '⏳ Pending'"
              th:classappend="${request.handled} ? 'text-success' : 'text-warning'"></span>
    </p>

    <form th:if="${!request.handled}" th:action="@{'/' + ${request.id} + '/process'}" method="post">
        <button class="btn btn-success">Mark as Handled</button>
    </form>

    <a href="/" class="btn btn-outline-secondary mt-3">← Back to list</a>
</div>
</html>
